#include <stdio.h>
#include <stdlib.h>
#include <strings.h>
#include <unistd.h>
#include <sys/types.h>
#include <sys/socket.h>
#include <netdb.h>
#include <arpa/inet.h>

int main(int argc, char* argv[]) {
	int buffersize = 2000;
	char* buffer = malloc(buffersize);
	if(buffer == NULL) return 1;
	bzero(buffer, 2000);
	
	struct addrinfo hints;
	struct addrinfo* res;
	
	bzero(&hints, sizeof(hints));
	hints.ai_flags = 0;
	hints.ai_family = AF_INET;
	hints.ai_socktype = SOCK_DGRAM;
	hints.ai_protocol = 0;
	
	char* hostname = "23.92.62.206";
	char* portname = "10";
	int ret = getaddrinfo(hostname, portname, &hints, &res);
	if(ret != 0) {
		printf("getaddrinfo(): %s\n", gai_strerror(ret));
		return 1;
	}
	
	char ip[INET_ADDRSTRLEN];
	printf("IP address string size: %lu\n", sizeof(ip));
	inet_ntop(AF_INET, &((struct sockaddr_in* )(res->ai_addr))->sin_addr, ip, sizeof(ip));
	printf("Destination IP address is %s\n", ip);

	int fd = socket(AF_INET, SOCK_DGRAM, 0);
	if(fd == -1) {
		perror("socket()");
		return 1;
	}
	
	struct timeval tv;
	tv.tv_sec = 1;
	tv.tv_usec = 500000;
	if(setsockopt(fd, SOL_SOCKET, SO_RCVTIMEO, &tv, sizeof(tv)) < 0) {
		perror("setsockopt()");
	}
	
	char peer0_0[] = { /* Packet 5018 */
0x78, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00 };
	ret = sendto(fd, peer0_0, sizeof(peer0_0), 0, res->ai_addr, res->ai_addrlen);
	printf("sendto() returns %d\n", ret);
	ret = recv(fd, buffer, buffersize, 0);
	printf("recv() returns %d\n", ret);
	
	char peer0_1[] = { /* Packet 5046 */
0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x04, 
0x00, 0x00, 0x00, 0x01, 0x12, 0x6a, 0xfe, 0x6b, 
0x00, 0x00, 0x4e, 0x20, 0x00, 0x00, 0x20, 0x00, 
0x00, 0x00, 0x00, 0x01, 0x1d, 0x3e, 0x37, 0x69, 
0x00, 0x00, 0x00, 0x00, 0xa3, 0x64, 0xc3, 0x7a, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0xff, 0xff, 0xff, 0xfe, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x53, 
0x31, 0x02, 0xa9, 0x37, 0x01, 0x33, 0x29, 0x44, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 
0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 
0x01, 0x33, 0x51, 0x1f, 0x00, 0x00, 0x00, 0x00 };
	ret = sendto(fd, peer0_1, sizeof(peer0_1), 0, res->ai_addr, res->ai_addrlen);
	printf("sendto() returns %d\n", ret);
	ret = recv(fd, buffer, buffersize, 0);
	printf("recv() returns %d\n", ret);
	
	char peer0_2[] = { /* Packet 5054 */
0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x04, 
0x00, 0x00, 0x00, 0x01, 0x12, 0x6a, 0xfe, 0x6b, 
0x00, 0x00, 0x4e, 0x20, 0x00, 0x00, 0x20, 0x00, 
0x00, 0x00, 0x00, 0x01, 0x1d, 0x3e, 0x37, 0x69, 
0x00, 0x00, 0x00, 0x00, 0xa3, 0x64, 0xc3, 0x7a, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0xff, 0xff, 0xff, 0xfe, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x53, 
0x31, 0x02, 0xa9, 0x37, 0x01, 0x33, 0x29, 0x44, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 
0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 
0x01, 0x33, 0x51, 0x1f, 0x00, 0x00, 0x00, 0x00 };
	ret = sendto(fd, peer0_2, sizeof(peer0_2), 0, res->ai_addr, res->ai_addrlen);
	printf("sendto() returns %d\n", ret);
	//ret = recv(fd, buffer, buffersize, 0);
	//printf("recv() returns %d\n", ret);
	
	char peer0_3[] = { /* Packet 5059 */
0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x04, 
0x00, 0x00, 0x00, 0x01, 0x12, 0x6a, 0xfe, 0x6b, 
0x00, 0x00, 0x4e, 0x20, 0x00, 0x00, 0x20, 0x00, 
0xff, 0xff, 0xff, 0xff, 0x1d, 0x3e, 0x37, 0x69, 
0xd9, 0x8c, 0x1d, 0xd4, 0xa3, 0x64, 0xc3, 0x7a, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0xff, 0xff, 0xff, 0xfe, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x53, 
0x31, 0x02, 0xa9, 0x37, 0x01, 0x33, 0x29, 0x44, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 
0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 
0x01, 0x33, 0x51, 0x1f, 0x00, 0x00, 0x00, 0x00 };
	ret = sendto(fd, peer0_3, sizeof(peer0_3), 0, res->ai_addr, res->ai_addrlen);
	printf("sendto() returns %d\n", ret);
	ret = recv(fd, buffer, buffersize, 0);
	printf("recv() returns %d\n", ret);
	
	char peer0_4[] = { /* Packet 5077 */
0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x04, 
0x00, 0x00, 0x00, 0x01, 0x12, 0x6a, 0xfe, 0x6b, 
0x00, 0x00, 0x4e, 0x20, 0x00, 0x00, 0x20, 0x00, 
0xff, 0xff, 0xff, 0xff, 0x1d, 0x3e, 0x37, 0x69, 
0xd9, 0x8c, 0x1d, 0xd4, 0xa3, 0x64, 0xc3, 0x7a, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0xff, 0xff, 0xff, 0xfe, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x53, 
0x31, 0x02, 0xa9, 0x37, 0x01, 0x33, 0x29, 0x44, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 
0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 
0x01, 0x33, 0x51, 0x1f, 0x00, 0x00, 0x00, 0x00 };
	ret = sendto(fd, peer0_4, sizeof(peer0_4), 0, res->ai_addr, res->ai_addrlen);
	printf("sendto() returns %d\n", ret);
	ret = recv(fd, buffer, buffersize, 0);
	printf("recv() returns %d\n", ret);
	
	char peer0_5[] = { /* Packet 5110 */
0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x04, 
0x00, 0x00, 0x00, 0x01, 0x01, 0xbe, 0x76, 0xf1, 
0x00, 0x00, 0x4e, 0x20, 0x00, 0x00, 0x20, 0x00, 
0x00, 0x00, 0x00, 0x01, 0x1d, 0x3e, 0x37, 0x68, 
0x00, 0x00, 0x00, 0x00, 0xa3, 0x64, 0xc3, 0x7a, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x01, 0x33, 0x29, 0x44, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x01, 0x33, 0x51, 0x1f, 0x00, 0x00, 0x00, 0x00 };
	ret = sendto(fd, peer0_5, sizeof(peer0_5), 0, res->ai_addr, res->ai_addrlen);
	printf("sendto() returns %d\n", ret);
	//ret = recv(fd, buffer, buffersize, 0);
	//printf("recv() returns %d\n", ret);
	
	char peer0_6[] = { /* Packet 5112 */
0x12, 0x6a, 0xfe, 0x6b, 0xc0, 0x00, 0x00, 0x01, 
0x02, 0x3d, 0xa3, 0x2d, 0x71, 0x05, 0x00, 0x00, 
0x00, 0x08, 0x00, 0x00, 0x00, 0x61, 0x64, 0x6d, 
0x69, 0x6e, 0x74, 0x77, 0x6e, 0x32, 0x7a, 0x7a, 
0x32, 0x7a };
	ret = sendto(fd, peer0_6, sizeof(peer0_6), 0, res->ai_addr, res->ai_addrlen);
	printf("sendto() returns %d\n", ret);
	//ret = recv(fd, buffer, buffersize, 0);
	//printf("recv() returns %d\n", ret);

	char peer0_7[] = { /* Packet 5117 */
0x12, 0x6a, 0xfe, 0x6b, 0xc0, 0x00, 0x00, 0x01, 
0x02, 0x3d, 0xa3, 0x2d, 0x71, 0x05, 0x00, 0x00, 
0x00, 0x08, 0x00, 0x00, 0x00, 0x61, 0x64, 0x6d, 
0x69, 0x6e, 0x74, 0x77, 0x6e, 0x32, 0x7a, 0x7a, 
0x32, 0x7a };
	ret = sendto(fd, peer0_7, sizeof(peer0_7), 0, res->ai_addr, res->ai_addrlen);
	printf("sendto() returns %d\n", ret);
	ret = recv(fd, buffer, buffersize, 0);
	printf("recv() returns %d\n", ret);
	ret = recv(fd, buffer, buffersize, 0);
	printf("recv() returns %d\n", ret);
	ret = recv(fd, buffer, buffersize, 0);
	printf("recv() returns %d\n", ret);
	ret = recv(fd, buffer, buffersize, 0);
	printf("recv() returns %d\n", ret);
	
	char peer0_8[] = { /* Packet 5149 */
0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x04, 
0x00, 0x00, 0x00, 0x01, 0x01, 0xbe, 0x76, 0xf1, 
0x00, 0x00, 0x4e, 0x20, 0x00, 0x00, 0x20, 0x00, 
0x00, 0x00, 0x00, 0x01, 0x1d, 0x3e, 0x37, 0x68, 
0x00, 0x00, 0x00, 0x00, 0xa3, 0x64, 0xc3, 0x7a, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x01, 0x33, 0x29, 0x44, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x01, 0x33, 0x51, 0x1f, 0x00, 0x00, 0x00, 0x00 };
	ret = sendto(fd, peer0_8, sizeof(peer0_8), 0, res->ai_addr, res->ai_addrlen);
	printf("sendto() returns %d\n", ret);

	char peer0_9[] = { /* Packet 5154 */
0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x04, 
0x00, 0x00, 0x00, 0x01, 0x01, 0xbe, 0x76, 0xf1, 
0x00, 0x00, 0x4e, 0x20, 0x00, 0x00, 0x20, 0x00, 
0xff, 0xff, 0xff, 0xff, 0x1d, 0x3e, 0x37, 0x68, 
0xd9, 0x8c, 0x1d, 0xd4, 0xa3, 0x64, 0xc3, 0x7a, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x01, 0x33, 0x29, 0x44, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x01, 0x33, 0x51, 0x1f, 0x00, 0x00, 0x00, 0x00 };
	ret = sendto(fd, peer0_9, sizeof(peer0_9), 0, res->ai_addr, res->ai_addrlen);
	printf("sendto() returns %d\n", ret);

	char peer0_10[] = { /* Packet 5155 */
0x80, 0x06, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 
0x02, 0x3d, 0xa3, 0x2d, 0x00, 0x00, 0x00, 0x00 };
	ret = sendto(fd, peer0_10, sizeof(peer0_10), 0, res->ai_addr, res->ai_addrlen);
	printf("sendto() returns %d\n", ret);
	
	char peer0_11[] = { /* Packet 5156 */
0x80, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 
0x02, 0x3d, 0xa3, 0x2d, 0x12, 0x6a, 0xfe, 0x6c, 
0x00, 0x01, 0x86, 0xa0, 0x00, 0x00, 0x92, 0x7c, 
0x00, 0x00, 0x1f, 0xfe, 0x00, 0x00, 0x00, 0x02, 
0x00, 0x00, 0x03, 0xe8 };
	ret = sendto(fd, peer0_11, sizeof(peer0_11), 0, res->ai_addr, res->ai_addrlen);
	printf("sendto() returns %d\n", ret);
	
	char peer0_12[] = { /* Packet 5157 */
0x12, 0x6a, 0xfe, 0x6c, 0xc0, 0x00, 0x00, 0x02, 
0x02, 0x3d, 0xa3, 0x2d, 0x96, 0x00, 0x00, 0x00, 
0x00 };
	ret = sendto(fd, peer0_12, sizeof(peer0_12), 0, res->ai_addr, res->ai_addrlen);
	printf("sendto() returns %d\n", ret);
	ret = recv(fd, buffer, buffersize, 0);
	printf("recv() returns %d\n", ret);
	ret = recv(fd, buffer, buffersize, 0);
	printf("recv() returns %d\n", ret);
	ret = recv(fd, buffer, buffersize, 0);
	printf("recv() returns %d\n", ret);
	
	char peer0_13[] = { /* Packet 5171 */
0x80, 0x06, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 
0x02, 0x3d, 0xa3, 0x2d, 0x00, 0x00, 0x00, 0x00 };
	ret = sendto(fd, peer0_13, sizeof(peer0_13), 0, res->ai_addr, res->ai_addrlen);
	printf("sendto() returns %d\n", ret);
	
	char peer0_14[] = { /* Packet 5172 */
0x80, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 
0x02, 0x3d, 0xa3, 0x2d, 0x12, 0x6a, 0xfe, 0x6c, 
0x00, 0x01, 0x86, 0xa0, 0x00, 0x00, 0x92, 0x7c, 
0x00, 0x00, 0x1f, 0xff, 0x00, 0x00, 0x00, 0x02, 
0x00, 0x00, 0x03, 0xe8 };
	ret = sendto(fd, peer0_14, sizeof(peer0_14), 0, res->ai_addr, res->ai_addrlen);
	printf("sendto() returns %d\n", ret);
	ret = recv(fd, buffer, buffersize, 0);
	printf("sendto() returns %d\n", ret);
	ret = recv(fd, buffer, buffersize, 0);
	printf("sendto() returns %d\n", ret);
	ret = recv(fd, buffer, buffersize, 0);
	printf("sendto() returns %d\n", ret);
	ret = recv(fd, buffer, buffersize, 0);
	
	char peer0_15[] = { /* Packet 5177 */
0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x04, 
0x00, 0x00, 0x00, 0x01, 0x01, 0xbe, 0x76, 0xf1, 
0x00, 0x00, 0x4e, 0x20, 0x00, 0x00, 0x20, 0x00, 
0xff, 0xff, 0xff, 0xff, 0x1d, 0x3e, 0x37, 0x68, 
0xd9, 0x8c, 0x1d, 0xd4, 0xa3, 0x64, 0xc3, 0x7a, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x01, 0x33, 0x29, 0x44, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x01, 0x33, 0x51, 0x1f, 0x00, 0x00, 0x00, 0x00 };
	ret = sendto(fd, peer0_15, sizeof(peer0_15), 0, res->ai_addr, res->ai_addrlen);
	printf("sendto() returns %d\n", ret);
	ret = recv(fd, buffer, buffersize, 0);
	printf("sendto() returns %d\n", ret);
	
	char peer0_16[] = { /* Packet 5183 */
0x80, 0x06, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03, 
0x02, 0x3d, 0xa3, 0x2d, 0x00, 0x00, 0x00, 0x00 };
	ret = sendto(fd, peer0_16, sizeof(peer0_16), 0, res->ai_addr, res->ai_addrlen);
	printf("sendto() returns %d\n", ret);
	
	char peer0_17[] = { /* Packet 5184 */
0x01, 0xbe, 0x76, 0xf1, 0xc0, 0x00, 0x00, 0x01, 
0x02, 0x3d, 0xa3, 0x2c, 0x13, 0x07, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x00 };
	ret = sendto(fd, peer0_17, sizeof(peer0_17), 0, res->ai_addr, res->ai_addrlen);
	printf("sendto() returns %d\n", ret);
	
	char peer0_18[] = { /* Packet 5185 */
0x80, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03, 
0x02, 0x3d, 0xa3, 0x2d, 0x12, 0x6a, 0xfe, 0x6d, 
0x00, 0x02, 0x26, 0xc0, 0x00, 0x01, 0x43, 0x96, 
0x00, 0x00, 0x1f, 0xfe, 0x00, 0x00, 0x00, 0x02, 
0x00, 0x00, 0x03, 0xe8 };
	ret = sendto(fd, peer0_18, sizeof(peer0_18), 0, res->ai_addr, res->ai_addrlen);
	printf("sendto() returns %d\n", ret);
	
	char peer0_19[] = { /* Packet 5187 */
0x01, 0xbe, 0x76, 0xf1, 0xc0, 0x00, 0x00, 0x01, 
0x02, 0x3d, 0xa3, 0x2c, 0x13, 0x07, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x00 };
	ret = sendto(fd, peer0_19, sizeof(peer0_19), 0, res->ai_addr, res->ai_addrlen);
	printf("sendto() returns %d\n", ret);
	ret = recv(fd, buffer, buffersize, 0);
	printf("recv() returns %d\n", ret);
	ret = recv(fd, buffer, buffersize, 0);
	printf("recv() returns %d\n", ret);
	ret = recv(fd, buffer, buffersize, 0);
	printf("recv() returns %d\n", ret);
	ret = recv(fd, buffer, buffersize, 0);
	printf("recv() returns %d\n", ret);
	ret = recv(fd, buffer, buffersize, 0);
	printf("recv() returns %d\n", ret);
	
	char peer0_20[] = { /* Packet 5202 */
0x80, 0x06, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 
0x02, 0x3d, 0xa3, 0x2c, 0x00, 0x00, 0x00, 0x00 };
	ret = sendto(fd, peer0_20, sizeof(peer0_20), 0, res->ai_addr, res->ai_addrlen);
	printf("sendto() returns %d\n", ret);

	char peer0_21[] = { /* Packet 5203 */
0x80, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 
0x02, 0x3d, 0xa3, 0x2c, 0x01, 0xbe, 0x76, 0xf2, 
0x00, 0x01, 0x86, 0xa0, 0x00, 0x00, 0x92, 0x7c, 
0x00, 0x00, 0x1f, 0xfe, 0x00, 0x00, 0x00, 0x02, 
0x00, 0x00, 0x03, 0xe8 };
	ret = sendto(fd, peer0_21, sizeof(peer0_21), 0, res->ai_addr, res->ai_addrlen);
	printf("sendto() returns %d\n", ret);
	//ret = recv(fd, buffer, buffersize, 0);
	//printf("recv() returns %d\n", ret);
	
	char peer0_22[] = { /* Packet 5204 */
0x01, 0xbe, 0x76, 0xf2, 0xc0, 0x00, 0x00, 0x02, 
0x02, 0x3d, 0xa3, 0x2c, 0x72, 0x00, 0x00, 0x00, 
0x00 };
	ret = sendto(fd, peer0_22, sizeof(peer0_22), 0, res->ai_addr, res->ai_addrlen);
	printf("sendto() returns %d\n", ret);
	//ret = recv(fd, buffer, buffersize, 0);
	//printf("recv() returns %d\n", ret);
	
	char peer0_23[] = { /* Packet 5205 */
0x01, 0xbe, 0x76, 0xf3, 0xc0, 0x00, 0x00, 0x03, 
0x02, 0x3d, 0xa3, 0x2c, 0x71, 0x05, 0x00, 0x00, 
0x00, 0x08, 0x00, 0x00, 0x00, 0x61, 0x64, 0x6d, 
0x69, 0x6e, 0x74, 0x77, 0x6e, 0x32, 0x7a, 0x7a, 
0x32, 0x7a };
	ret = sendto(fd, peer0_23, sizeof(peer0_23), 0, res->ai_addr, res->ai_addrlen);
	printf("sendto() returns %d\n", ret);
	ret = recv(fd, buffer, buffersize, 0);
	printf("recv() returns %d\n", ret);
	ret = recv(fd, buffer, buffersize, 0);
	printf("recv() returns %d\n", ret);
	ret = recv(fd, buffer, buffersize, 0);
	printf("recv() returns %d\n", ret);
	ret = recv(fd, buffer, buffersize, 0);
	printf("recv() returns %d\n", ret);
	ret = recv(fd, buffer, buffersize, 0);
	printf("recv() returns %d\n", ret);
	
	char peer0_24[] = { /* Packet 5226 */
0x80, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 
0x02, 0x3d, 0xa3, 0x2c, 0x01, 0xbe, 0x76, 0xf2, 
0x00, 0x01, 0x86, 0xa0, 0x00, 0x00, 0x92, 0x7c, 
0x00, 0x00, 0x1f, 0xff, 0x00, 0x00, 0x00, 0x02, 
0x00, 0x00, 0x03, 0xe8 };
	ret = sendto(fd, peer0_24, sizeof(peer0_24), 0, res->ai_addr, res->ai_addrlen);
	printf("sendto() returns %d\n", ret);
	//ret = recv(fd, buffer, buffersize, 0);
	//printf("recv() returns %d\n", ret);
	
	char peer0_25[] = { /* Packet 5227 */
0x01, 0xbe, 0x76, 0xf2, 0xc0, 0x00, 0x00, 0x02, 
0x02, 0x3d, 0xa3, 0x2c, 0x72, 0x00, 0x00, 0x00, 
0x00 };
	ret = sendto(fd, peer0_25, sizeof(peer0_25), 0, res->ai_addr, res->ai_addrlen);
	printf("sendto() returns %d\n", ret);
	//ret = recv(fd, buffer, buffersize, 0);
	//printf("recv() returns %d\n", ret);
	
	char peer0_26[] = { /* Packet 5230 */
0x01, 0xbe, 0x76, 0xf3, 0xc0, 0x00, 0x00, 0x03, 
0x02, 0x3d, 0xa3, 0x2c, 0x71, 0x05, 0x00, 0x00, 
0x00, 0x08, 0x00, 0x00, 0x00, 0x61, 0x64, 0x6d, 
0x69, 0x6e, 0x74, 0x77, 0x6e, 0x32, 0x7a, 0x7a, 
0x32, 0x7a };
	ret = sendto(fd, peer0_26, sizeof(peer0_26), 0, res->ai_addr, res->ai_addrlen);
	printf("sendto() returns %d\n", ret);
	//ret = recv(fd, buffer, buffersize, 0);
	//printf("recv() returns %d\n", ret);
	
	char peer0_27[] = { /* Packet 5231 */
0x80, 0x06, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 
0x02, 0x3d, 0xa3, 0x2c, 0x00, 0x00, 0x00, 0x00 };
	ret = sendto(fd, peer0_27, sizeof(peer0_27), 0, res->ai_addr, res->ai_addrlen);
	printf("sendto() returns %d\n", ret);
	ret = recv(fd, buffer, buffersize, 0);
	printf("recv() returns %d\n", ret);
	ret = recv(fd, buffer, buffersize, 0);
	printf("recv() returns %d\n", ret);
	
	char peer0_28[] = { /* Packet 5251 */
0x80, 0x06, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03, 
0x02, 0x3d, 0xa3, 0x2c, 0x00, 0x00, 0x00, 0x00 };
	ret = sendto(fd, peer0_28, sizeof(peer0_28), 0, res->ai_addr, res->ai_addrlen);
	printf("sendto() returns %d\n", ret);
	//ret = recv(fd, buffer, buffersize, 0);
	//printf("recv() returns %d\n", ret);

	char peer0_29[] = { /* Packet 5252 */
0x80, 0x06, 0x00, 0x00, 0x00, 0x00, 0x00, 0x04, 
0x02, 0x3d, 0xa3, 0x2c, 0x00, 0x00, 0x00, 0x00 };
	ret = sendto(fd, peer0_29, sizeof(peer0_29), 0, res->ai_addr, res->ai_addrlen);
	printf("sendto() returns %d\n", ret);
	//ret = recv(fd, buffer, buffersize, 0);
	//printf("recv() returns %d\n", ret);
	
	char peer0_30[] = { /* Packet 5254 */
0x80, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03, 
0x02, 0x3d, 0xa3, 0x2c, 0x01, 0xbe, 0x76, 0xf3, 
0x00, 0x02, 0x1a, 0xb4, 0x00, 0x00, 0xf4, 0xcc, 
0x00, 0x00, 0x1f, 0xfe, 0x00, 0x00, 0x00, 0x02, 
0x00, 0x00, 0x03, 0xe8 };
	ret = sendto(fd, peer0_30, sizeof(peer0_30), 0, res->ai_addr, res->ai_addrlen);
	printf("sendto() returns %d\n", ret);
	//ret = recv(fd, buffer, buffersize, 0);
	//printf("recv() returns %d\n", ret);
	
	char peer0_31[] = { /* Packet 5259 */
0x01, 0xbe, 0x76, 0xf4, 0xc0, 0x00, 0x00, 0x04, 
0x02, 0x3d, 0xa3, 0x2c, 0x70, 0x00, 0x00, 0x00, 
0x00 };
	ret = sendto(fd, peer0_31, sizeof(peer0_31), 0, res->ai_addr, res->ai_addrlen);
	printf("sendto() returns %d\n", ret);
	//ret = recv(fd, buffer, buffersize, 0);
	//printf("recv() returns %d\n", ret);
	
	char peer0_32[] = { /* Packet 5261 */
0x80, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, 0x04, 
0x02, 0x3d, 0xa3, 0x2c, 0x01, 0xbe, 0x76, 0xf4, 
0x00, 0x02, 0x1a, 0xb4, 0x00, 0x00, 0xf4, 0xcc, 
0x00, 0x00, 0x1f, 0xfe, 0x00, 0x00, 0x00, 0x02, 
0x00, 0x00, 0x03, 0xe8 };
	ret = sendto(fd, peer0_32, sizeof(peer0_32), 0, res->ai_addr, res->ai_addrlen);
	printf("sendto() returns %d\n", ret);
	//ret = recv(fd, buffer, buffersize, 0);
	//printf("recv() returns %d\n", ret);
	
	char peer0_33[] = { /* Packet 5263 */
0x01, 0xbe, 0x76, 0xf5, 0xc0, 0x00, 0x00, 0x05, 
0x02, 0x3d, 0xa3, 0x2c, 0x50, 0x00, 0x00, 0x00, 
0x00 };
	ret = sendto(fd, peer0_33, sizeof(peer0_33), 0, res->ai_addr, res->ai_addrlen);
	printf("sendto() returns %d\n", ret);
	ret = recv(fd, buffer, buffersize, 0);
	printf("recv() returns %d\n", ret);
	ret = recv(fd, buffer, buffersize, 0);
	printf("recv() returns %d\n", ret);
	ret = recv(fd, buffer, buffersize, 0);
	printf("recv() returns %d\n", ret);
	ret = recv(fd, buffer, buffersize, 0);
	printf("recv() returns %d\n", ret);
	ret = recv(fd, buffer, buffersize, 0);
	printf("recv() returns %d\n", ret);
	
	char peer0_34[] = { /* Packet 5289 */
0x80, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x02, 0x3d, 0xa3, 0x2d, 0x00, 0x00, 0x00, 0x00 };
	ret = sendto(fd, peer0_34, sizeof(peer0_34), 0, res->ai_addr, res->ai_addrlen);
	printf("sendto() returns %d\n", ret);
	//ret = recv(fd, buffer, buffersize, 0);
	//printf("recv() returns %d\n", ret);
	
	do {
		ret = recv(fd, buffer, buffersize, 0);
		printf("recv() returns %d\n", ret);
	} while(ret != -1);
	
	sleep(10);
	close(fd);
	freeaddrinfo(res);
	free(buffer);
	return 0;
}
